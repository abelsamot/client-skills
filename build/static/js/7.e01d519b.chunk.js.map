{"version":3,"sources":["../node_modules/through2/node_modules/readable-stream/lib/_stream_duplex.js","../../src/baseEvmAdapter.ts","../../src/ObservableStore.ts","../node_modules/fast-deep-equal/index.js","../node_modules/is-stream/index.js","../node_modules/through2/node_modules/readable-stream/lib/_stream_readable.js","../node_modules/through2/node_modules/readable-stream/lib/internal/streams/stream-browser.js","../node_modules/through2/node_modules/readable-stream/lib/internal/streams/destroy.js","../node_modules/through2/node_modules/readable-stream/lib/_stream_writable.js","../node_modules/through2/node_modules/readable-stream/lib/_stream_transform.js","../../src/interfaces.ts","../../src/supportedCurrencies.ts","../../src/config.ts","../../src/embedUtils.ts","../../src/loglevel.ts","../../src/messages.ts","../../src/utils.ts","../../src/inpage-provider.ts","../../src/integrity.ts","../../src/PopupHandler.ts","../../src/siteMetadata.ts","../../src/embed.ts","../node_modules/@babel/runtime/helpers/objectWithoutProperties.js","../../src/index.ts","../../src/asStream.ts","../../src/ComposedStore.ts","../../src/MergedStore.ts","../../src/transform.ts","../node_modules/through2/through2.js","../node_modules/through2/node_modules/readable-stream/readable-browser.js","../node_modules/through2/node_modules/isarray/index.js","../node_modules/through2/node_modules/readable-stream/lib/internal/streams/BufferList.js","../node_modules/through2/node_modules/readable-stream/lib/_stream_passthrough.js","../../src/torusWalletAdapter.ts"],"names":["pna","require","objectKeys","Object","keys","obj","key","push","module","exports","Duplex","util","create","inherits","Readable","Writable","prototype","v","length","method","options","this","call","readable","writable","allowHalfOpen","once","onend","_writableState","ended","nextTick","onEndNT","self","end","defineProperty","enumerable","get","highWaterMark","undefined","_readableState","destroyed","set","value","_destroy","err","cb","BaseEvmAdapter","provider","chainConfig","_this$chainConfig","chainId","WalletLoginError","notConnectedError","chainNamespace","status","ADAPTER_STATUS","CONNECTED","request","accounts","existingToken","getSavedToken","name","checkIfTokenIsExpired","idToken","payload","domain","window","location","origin","uri","href","address","parseInt","version","nonce","Math","random","toString","slice","issuedAt","Date","toISOString","signChallenge","challenge","params","signedMessage","verifySignedChallenge","sessionTime","saveToken","disconnectionError","clearToken","BaseAdapter","ObservableStore","initState","_state","_getState","newState","_putState","emit","partialState","state","getState","putState","handler","on","removeListener","safe_event_emitter_1","equal","a","b","constructor","i","Array","isArray","RegExp","source","flags","valueOf","hasOwnProperty","isStream","stream","pipe","_write","_read","duplex","transform","_transform","ReadableState","EventEmitter","EElistenerCount","emitter","type","listeners","Stream","Buffer","OurUint8Array","global","Uint8Array","debugUtil","debug","debuglog","StringDecoder","BufferList","destroyImpl","kProxyEvents","isDuplex","objectMode","readableObjectMode","hwm","readableHwm","readableHighWaterMark","defaultHwm","floor","buffer","pipes","pipesCount","flowing","endEmitted","reading","sync","needReadable","emittedReadable","readableListening","resumeScheduled","defaultEncoding","awaitDrain","readingMore","decoder","encoding","read","destroy","readableAddChunk","chunk","addToFront","skipChunkCheck","er","emitReadable","onEofChunk","isBuffer","TypeError","chunkInvalid","getPrototypeOf","from","_uint8ArrayToBuffer","Error","addChunk","write","maybeReadMore","needMoreData","unshift","_undestroy","undestroy","isPaused","setEncoding","enc","MAX_HWM","howMuchToRead","n","head","data","computeNewHighWaterMark","emitReadable_","flow","maybeReadMore_","len","nReadingNextTick","resume_","fromList","ret","shift","join","concat","clear","list","hasStrings","p","c","next","str","nb","tail","copyFromBufferString","allocUnsafe","copy","buf","copyFromBuffer","fromListPartial","endReadable","endReadableNT","indexOf","xs","x","l","nOrig","doRead","dest","pipeOpts","src","endFn","process","stdout","stderr","unpipe","onunpipe","unpipeInfo","hasUnpiped","onclose","onfinish","ondrain","onerror","ondata","cleanedUp","needDrain","pipeOnDrain","increasedAwaitDrain","pause","event","fn","prependListener","_events","resume","dests","index","splice","ev","res","addListener","wrap","_this","paused","apply","arguments","bind","_fromList","emitErrorNT","readableDestroyed","writableDestroyed","errorEmitted","ending","finished","CorkedRequest","entry","finish","corkReq","callback","pendingcb","corkedRequestsFree","onCorkedFinish","asyncWrite","browser","setImmediate","WritableState","internalUtil","deprecate","realHasInstance","nop","writableObjectMode","writableHwm","writableHighWaterMark","finalCalled","noDecode","decodeStrings","writing","corked","bufferProcessing","onwrite","writecb","writelen","onwriteStateUpdate","finishMaybe","onwriteError","needFinish","bufferedRequest","clearBuffer","afterWrite","lastBufferedRequest","prefinished","bufferedRequestCount","writev","_writev","final","_final","doWrite","onwriteDrain","holder","count","allBuffers","isBuf","callFinal","need","prefinish","getBuffer","current","out","_","Symbol","hasInstance","Function","object","writeAfterEnd","valid","validChunk","newChunk","decodeChunk","last","writeOrBuffer","cork","uncork","setDefaultEncoding","toLowerCase","endWritable","Transform","afterTransform","ts","_transformState","transforming","writechunk","rs","needTransform","writeencoding","flush","_flush","done","_this2","err2","LOGIN_PROVIDER","WALLET_VERIFIERS","GOOGLE","FACEBOOK","TWITCH","REDDIT","DISCORD","EMAIL_PASSWORDLESS","WALLET_OPENLOGIN_VERIFIER_MAP","PAYMENT_PROVIDER","SUPPORTED_PAYMENT_NETWORK","TORUS_BUILD_ENV","BUTTON_POSITION","PROVIDER_SUPPORTED_FIAT_CURRENCIES","cryptoCompareCurrenciesSet","Set","supportedFiatCurrencies","filter","currency","has","paymentProviders","line1","line2","line3","supportPage","minOrderValue","maxOrderValue","validCurrencies","validCryptoCurrenciesByChain","display","includeFees","api","enforceMax","receiveHint","sell","supportedVerifierList","values","translations","en","embed","continue","actionRequired","pendingAction","cookiesRequired","enableCookies","clickHere","de","ja","ko","zh","prodTorusUrl","localStorageKeyPrefix","runOnLoad","Promise","resolve","reject","document","body","then","catch","addEventListener","htmlToElement","html","template","createElement","trimmedHtml","trim","innerHTML","content","firstChild","handleEvent","handle","eventName","handlerArgs","handlerWrapper","removeEventListener","handleStream","documentReady","readyState","loglevel","getLogger","errors","disconnected","permanentlyDisconnected","sendSiteMetadata","unsupportedSync","invalidDuplexStream","invalidOptions","maxEventListeners","shouldSendMetadata","invalidRequestArgs","invalidRequestMethod","invalidRequestParams","invalidLoggerObject","invalidLoggerMethod","info","connected","warnings","enableDeprecation","sendDeprecation","events","close","networkChanged","notification","publicConfigStore","config","createErrorMiddleware","req","error","ethErrors","rpc","invalidRequest","message","log","logStreamDisconnectWarning","remoteLabel","warningMsg","stack","warn","listenerCount","getPreopenInstanceId","getTorusUrl","buildEnv","integrity","versionUsed","useAPIKey","response","torusUrl","logLevel","getUserLanguage","userLanguage","navigator","language","userLanguages","split","EMITTED_NOTIFICATIONS","NOOP","FEATURES_PROVIDER_CHANGE_WINDOW","FEATURES_DEFAULT_WALLET_WINDOW","FEATURES_CONFIRM_WINDOW","SafeEventEmitter","defaultMaxListeners","getRpcPromiseCallback","unwrapResult","result","TorusInpageProvider","connectionStream","jsonRpcStreamName","_defineProperty","enable","experimentalMethods","send","isDuplexStream","messages","isTorus","setMaxListeners","_defaultState","selectedAddress","networkVersion","_handleAccountsChanged","_handleChainChanged","_handleUnlockStateChanged","_handleConnect","_handleDisconnect","_handleStreamDisconnect","_sendSync","_rpcRequest","_warnOfDeprecation","_initializeState","sendAsync","mux","ObjectMultiplex","pump","_publicConfigStore","storageKey","createStream","storeAsStream","ignoreStream","isConnected","jsonRpcConnection","createStreamMiddleware","rpcEngine","JRPCEngine","createIdRemapMiddleware","middleware","_rpcEngine","includes","_sentWarnings","args","listener","prependOnceListener","isUnlocked","initialized","isInternal","_payload","jsonrpc","tryPreopenHandle","methodOrPayload","callbackOrArgs","id","isRecoverable","errorMessage","isPermanentlyDisconnected","EthereumRpcError","streamName","isEthAccounts","finalAccounts","account","dequal","hasEmittedConnection","hashes","internalHashes","algorithms","forEach","algorithm","createHash","update","digest","main","finalOptions","delimiter","full","defaults","sri","output","map","PopupHandler","_ref","url","target","features","dualScreenLeft","screenLeft","screenX","dualScreenTop","screenTop","screenY","width","innerWidth","documentElement","clientWidth","screen","height","innerHeight","clientHeight","left","abs","top","h","w","getPopupFeatures","windowTimer","iClosedWindow","_setupTimer","Number","setInterval","closed","clearInterval","open","focus","redirect","locationReplaceOnRedirect","replace","imgExists","img","onload","e","getSiteName","siteName","querySelector","metaTitle","title","hostname","getSiteIcon","icon","querySelectorAll","find","_icon","Boolean","getSiteMetadata","engine","domainMetadata","originalError","defaultVerifiers","iframeIntegrity","expectedCacheControlHeader","UNSAFE_METHODS","torusIframeHtml","check","hash","crossOrigin","rel","relList","supports","appendChild","Torus","buttonPosition","buttonSize","modalZIndex","apiKey","configuration","isLoggedIn","isInitialized","torusWidgetVisibility","requestedVerifier","currentVerifier","setAPIKey","alertZIndex","isIframeFullScreen","enableLogging","enabledVerifiers","network","host","networkName","blockExplorer","ticker","tickerName","loginConfig","showTorusButton","whiteLabel","skipTKey","useWalletConnect","mfaLevel","isCustomLogin","setDefaultLevel","enableAll","disableAll","torusIframeUrl","URL","pathname","endsWith","torusIframe","torusAlertContainer","style","setProperty","link","setAttribute","styleLink","defaultLanguage","customTranslations","mergedTranslations","deepmerge","languageTranslations","embedTranslations","handleSetup","_setupWeb3","initStream","communicationMux","getStream","success","_displayIframe","fetchUrl","fetch","cache","resp","headers","text","calculatedIntegrity","generateIntegrity","clearInit","login","verifier","login_hint","loginHint","ethereum","logout","statusStream","loggedIn","isElement","element","Element","HTMLDocument","contains","remove","torusAlert","hideTorusButton","_sendWidgetVisibilityStatus","setProvider","rest","providerChangeStream","preopenInstanceId","_handleWindow","override","showWallet","path","showWalletStream","finalPath","showWalletHandler","instanceId","finalUrl","searchParams","append","_ref2","verifierId","isExtended","walletVerifier","openloginVerifier","getUserInfo","userInfoAccessStream","approved","rejected","newRequest","userInfoStream","handlerChunk","initiateTopup","isValid","selectedProvider","selectedParams","fiatValue","requestedOrderAmount","parseFloat","selectedCurrency","selectedCryptoCurrency","flat","finalCryptoCurrency","validatePaymentProvider","JSON","stringify","topupStream","loginParams","privateKey","userInfo","loginPrivKeyStream","walletConnectStream","windowStream","handledWindow","_createPopupBlockAlert","closeHandler","receivedId","_setEmbedWhiteLabel","theme","isDark","colors","classList","add","torusBrand1","torusGray2","_getLogoUrl","logoUrl","logoLight","logoDark","isFull","size","right","bottom","assign","metamaskStream","BasePostMessageStream","targetWindow","contentWindow","targetOrigin","communicationStream","inpageProvider","detectAccountRequestPrototypeModifier","m","originalMethod","setTimeout","handleLoginCb","_showLoginPopup","isLoginCallback","proxiedInpageProvider","Proxy","deleteProperty","setupMultiplex","calledFromEmbed","loginHandler","oauthStream","successAlert","btnContainer","children","objectWithoutPropertiesLoose","excluded","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","__esModule","__exportStar","ObservableStoreStream","obsStore","subscribe","_encoding","_size","unsubscribe","stream_1","ComposedStore","_children","childKey","child","_addChild","updateFromChild","childValue","ObservableStore_1","MergedStore","_updateWholeState","childStates","syncTransformFn","through2_1","xtend","DestroyableTransform","opts","_destroyed","noop","through2","construct","t2","ctor","Through2","PassThrough","arr","instance","Constructor","_classCallCheck","s","alloc","offset","inspect","custom","TorusWalletAdapter","WALLET_ADAPTERS","TORUS_EVM","ADAPTER_NAMESPACES","EIP155","CHAIN_NAMESPACES","ADAPTER_CATEGORY","EXTERNAL","NOT_READY","torusWalletOptions","adapterSettings","initParams","loginSettings","torusInstance","displayName","rpcTarget","getChainConfig","init","READY","ADAPTER_EVENTS","autoConnect","rehydrated","connect","ERRORED","WalletInitializationError","notReady","CONNECTING","adapter","_chainId","updatedChainID","fromCode","reconnected","Web3AuthError","connectionError","cleanup","DISCONNECTED","setAdapterSettings"],"mappings":"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A,GAMF,UAGEC,GACF,UADEA,GAEJ,QAFIA,GAGE,cAHFA,GAIQ,oBAIRC,GACC,aAyCDC,GACE,cADFA,GAED,WAFCA,GAGG,eAHHA,GAIA,YC4MPC,IAAkC,mBAGrCJ,EAA2B,CAC1B,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,QA9CoC,cAoDrCA,EAAwB,CACvB,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,QAhFoC,cAmFrCA,EAA+B,CAAC,MAAO,MAAO,QAnFT,cAqFrCA,EAA2B,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,QArFtD,cAwFrCA,GAA4B,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,QAxFvD,cA8FrCA,GAA2B,CAC1B,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,QA1IoC,GA8IlCK,GAA6B,IAAIC,IA/aE,CACvC,MACA,OACA,OACA,OACA,QACA,MACA,MACA,OACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,OACA,QACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,OACA,MACA,MACA,MACA,MACA,MACA,SACA,QACA,MACA,MACA,SACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,KACA,MACA,MACA,OACA,MACA,OACA,MACA,MACA,KACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,OACA,MACA,MACA,MACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,MACA,OACA,MACA,MACA,OACA,OACA,OACA,MACA,MACA,MACA,WACA,OACA,MACA,MACA,UACA,SACA,MACA,SACA,OACA,OACA,QACA,MACA,MACA,MACA,MACA,OACA,MACA,OACA,MACA,MACA,MACA,QACA,MACA,OACA,OACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,MACA,QACA,MACA,MACA,MACA,QACA,MACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,QACA,OACA,OACA,OACA,MACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,MACA,OACA,OACA,OACA,OACA,OACA,MACA,OACA,QACA,QACA,MACA,MACA,MACA,MACA,QACA,OACA,QAyJI,SAAUC,GAAwB9U,GAEt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","file":"static/js/7.e01d519b.chunk.js","sourcesContent":["// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\n/*<replacement>*/\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) {\n    keys.push(key);\n  }return keys;\n};\n/*</replacement>*/\n\nmodule.exports = Duplex;\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Readable = require('./_stream_readable');\nvar Writable = require('./_stream_writable');\n\nutil.inherits(Duplex, Readable);\n\n{\n  // avoid scope creep, the keys array can then be collected\n  var keys = objectKeys(Writable.prototype);\n  for (var v = 0; v < keys.length; v++) {\n    var method = keys[v];\n    if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n  }\n}\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false) this.readable = false;\n\n  if (options && options.writable === false) this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false) this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\nObject.defineProperty(Duplex.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended) return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  pna.nextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n\nObject.defineProperty(Duplex.prototype, 'destroyed', {\n  get: function () {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed && this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n    this._writableState.destroyed = value;\n  }\n});\n\nDuplex.prototype._destroy = function (err, cb) {\n  this.push(null);\n  this.end();\n\n  pna.nextTick(cb, err);\n};",null,"import SafeEventEmitter from '@metamask/safe-event-emitter';\n\nexport class ObservableStore<T> extends SafeEventEmitter {\n  private _state: T;\n\n  constructor(initState: T) {\n    super();\n    if (initState) {\n      this._state = initState;\n    } else {\n      // Typecast/default state: Preserve existing behavior\n      this._state = {} as unknown as T;\n    }\n  }\n\n  // wrapper around internal getState\n  getState(): T {\n    return this._getState();\n  }\n\n  // wrapper around internal putState\n  putState(newState: T): void {\n    this._putState(newState);\n    this.emit('update', newState);\n  }\n\n  updateState(partialState: Partial<T>): void {\n    // if non-null object, merge\n    if (partialState && typeof partialState === 'object') {\n      const state = this.getState();\n      this.putState({ ...state, ...partialState });\n      // if not object, use new value\n    } else {\n      this.putState(partialState);\n    }\n  }\n\n  // subscribe to changes\n  subscribe(handler: (state: T) => void): void {\n    this.on('update', handler);\n  }\n\n  // unsubscribe to changes\n  unsubscribe(handler: (state: T) => void): void {\n    this.removeListener('update', handler);\n  }\n\n  //\n  // private\n  //\n\n  // read from persistence\n  protected _getState(): T {\n    return this._state;\n  }\n\n  // write to persistence\n  protected _putState(newState: T): void {\n    this._state = newState;\n  }\n}\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","'use strict';\n\nconst isStream = stream =>\n\tstream !== null &&\n\ttypeof stream === 'object' &&\n\ttypeof stream.pipe === 'function';\n\nisStream.writable = stream =>\n\tisStream(stream) &&\n\tstream.writable !== false &&\n\ttypeof stream._write === 'function' &&\n\ttypeof stream._writableState === 'object';\n\nisStream.readable = stream =>\n\tisStream(stream) &&\n\tstream.readable !== false &&\n\ttypeof stream._read === 'function' &&\n\ttypeof stream._readableState === 'object';\n\nisStream.duplex = stream =>\n\tisStream.writable(stream) &&\n\tisStream.readable(stream);\n\nisStream.transform = stream =>\n\tisStream.duplex(stream) &&\n\ttypeof stream._transform === 'function';\n\nmodule.exports = isStream;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\nmodule.exports = Readable;\n\n/*<replacement>*/\nvar isArray = require('isarray');\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n\n/*<replacement>*/\nvar EE = require('events').EventEmitter;\n\nvar EElistenerCount = function (emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = global.Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*</replacement>*/\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar debugUtil = require('util');\nvar debug = void 0;\nif (debugUtil && debugUtil.debuglog) {\n  debug = debugUtil.debuglog('stream');\n} else {\n  debug = function () {};\n}\n/*</replacement>*/\n\nvar BufferList = require('./internal/streams/BufferList');\nvar destroyImpl = require('./internal/streams/destroy');\nvar StringDecoder;\n\nutil.inherits(Readable, Stream);\n\nvar kProxyEvents = ['error', 'close', 'destroy', 'pause', 'resume'];\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn);\n\n  // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];\n}\n\nfunction ReadableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  var isDuplex = stream instanceof Duplex;\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  if (isDuplex) this.objectMode = this.objectMode || !!options.readableObjectMode;\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  var readableHwm = options.readableHighWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n\n  if (hwm || hwm === 0) this.highWaterMark = hwm;else if (isDuplex && (readableHwm || readableHwm === 0)) this.highWaterMark = readableHwm;else this.highWaterMark = defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // a flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  if (!(this instanceof Readable)) return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n  }\n\n  Stream.call(this);\n}\n\nObject.defineProperty(Readable.prototype, 'destroyed', {\n  get: function () {\n    if (this._readableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._readableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n  }\n});\n\nReadable.prototype.destroy = destroyImpl.destroy;\nReadable.prototype._undestroy = destroyImpl.undestroy;\nReadable.prototype._destroy = function (err, cb) {\n  this.push(null);\n  cb(err);\n};\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n  var skipChunkCheck;\n\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding;\n      if (encoding !== state.encoding) {\n        chunk = Buffer.from(chunk, encoding);\n        encoding = '';\n      }\n      skipChunkCheck = true;\n    }\n  } else {\n    skipChunkCheck = true;\n  }\n\n  return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function (chunk) {\n  return readableAddChunk(this, chunk, null, true, false);\n};\n\nfunction readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n  var state = stream._readableState;\n  if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else {\n    var er;\n    if (!skipChunkCheck) er = chunkInvalid(state, chunk);\n    if (er) {\n      stream.emit('error', er);\n    } else if (state.objectMode || chunk && chunk.length > 0) {\n      if (typeof chunk !== 'string' && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer.prototype) {\n        chunk = _uint8ArrayToBuffer(chunk);\n      }\n\n      if (addToFront) {\n        if (state.endEmitted) stream.emit('error', new Error('stream.unshift() after end event'));else addChunk(stream, state, chunk, true);\n      } else if (state.ended) {\n        stream.emit('error', new Error('stream.push() after EOF'));\n      } else {\n        state.reading = false;\n        if (state.decoder && !encoding) {\n          chunk = state.decoder.write(chunk);\n          if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false);else maybeReadMore(stream, state);\n        } else {\n          addChunk(stream, state, chunk, false);\n        }\n      }\n    } else if (!addToFront) {\n      state.reading = false;\n    }\n  }\n\n  return needMoreData(state);\n}\n\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync) {\n    stream.emit('data', chunk);\n    stream.read(0);\n  } else {\n    // update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length;\n    if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n\n    if (state.needReadable) emitReadable(stream);\n  }\n  maybeReadMore(stream, state);\n}\n\nfunction chunkInvalid(state, chunk) {\n  var er;\n  if (!_isUint8Array(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended && (state.needReadable || state.length < state.highWaterMark || state.length === 0);\n}\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n};\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function (enc) {\n  if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n  return this;\n};\n\n// Don't raise the hwm > 8MB\nvar MAX_HWM = 0x800000;\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n  return n;\n}\n\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  }\n  // If we're asking for more than the current hwm, then raise the hwm.\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n;\n  // Don't have enough\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n  return state.length;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n\n  if (n !== 0) state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 && state.needReadable && (state.length >= state.highWaterMark || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n  debug('need readable', doRead);\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  }\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0) state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n    // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = true;\n    n = 0;\n  } else {\n    state.length -= n;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true;\n\n    // If we tried to read() past the EOF, then emit end on the next tick.\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n\n  return ret;\n};\n\nfunction onEofChunk(stream, state) {\n  if (state.ended) return;\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // emit 'readable' now to make sure it gets picked up.\n  emitReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    if (state.sync) pna.nextTick(emitReadable_, stream);else emitReadable_(stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  debug('emit readable');\n  stream.emit('readable');\n  flow(stream);\n}\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    pna.nextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended && state.length < state.highWaterMark) {\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;else len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function (n) {\n  this.emit('error', new Error('_read() is not implemented'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n\n  var endFn = doEnd ? onend : unpipe;\n  if (state.endEmitted) pna.nextTick(endFn);else src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe');\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true;\n        cleanup();\n      }\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  var cleanedUp = false;\n  function cleanup() {\n    debug('cleanup');\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', unpipe);\n    src.removeListener('data', ondata);\n\n    cleanedUp = true;\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  // If the user pushes more data while we're writing to dest then we'll end up\n  // in ondata again. However, we only want to increase awaitDrain once because\n  // dest will only emit one 'drain' event for the multiple writes.\n  // => Introduce a guard on increasing awaitDrain.\n  var increasedAwaitDrain = false;\n  src.on('data', ondata);\n  function ondata(chunk) {\n    debug('ondata');\n    increasedAwaitDrain = false;\n    var ret = dest.write(chunk);\n    if (false === ret && !increasedAwaitDrain) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', src._readableState.awaitDrain);\n        src._readableState.awaitDrain++;\n        increasedAwaitDrain = true;\n      }\n      src.pause();\n    }\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EElistenerCount(dest, 'error') === 0) dest.emit('error', er);\n  }\n\n  // Make sure our error handler is attached before userland ones.\n  prependListener(dest, 'error', onerror);\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function () {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n  var unpipeInfo = { hasUnpiped: false };\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0) return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n\n    if (!dest) dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this, unpipeInfo);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++) {\n      dests[i].emit('unpipe', this, unpipeInfo);\n    }return this;\n  }\n\n  // try to find the right one.\n  var index = indexOf(state.pipes, dest);\n  if (index === -1) return this;\n\n  state.pipes.splice(index, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this, unpipeInfo);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function (ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n\n  if (ev === 'data') {\n    // Start flowing on next tick if stream isn't explicitly paused\n    if (this._readableState.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    var state = this._readableState;\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.emittedReadable = false;\n      if (!state.reading) {\n        pna.nextTick(nReadingNextTick, this);\n      } else if (state.length) {\n        emitReadable(this);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n}\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n  if (!state.flowing) {\n    debug('resume');\n    state.flowing = true;\n    resume(this, state);\n  }\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    pna.nextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  if (!state.reading) {\n    debug('resume read 0');\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  state.awaitDrain = 0;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n  if (false !== this._readableState.flowing) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n  while (state.flowing && stream.read() !== null) {}\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function (stream) {\n  var _this = this;\n\n  var state = this._readableState;\n  var paused = false;\n\n  stream.on('end', function () {\n    debug('wrapped end');\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) _this.push(chunk);\n    }\n\n    _this.push(null);\n  });\n\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk);\n\n    // don't skip over falsy values in objectMode\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = _this.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function (method) {\n        return function () {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  }\n\n  // proxy certain important events.\n  for (var n = 0; n < kProxyEvents.length; n++) {\n    stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));\n  }\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  this._read = function (n) {\n    debug('wrapped _read', n);\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return this;\n};\n\nObject.defineProperty(Readable.prototype, 'readableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._readableState.highWaterMark;\n  }\n});\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.head.data;else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = fromListPartial(n, state.buffer, state.decoder);\n  }\n\n  return ret;\n}\n\n// Extracts only enough buffered data to satisfy the amount requested.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromListPartial(n, list, hasStrings) {\n  var ret;\n  if (n < list.head.data.length) {\n    // slice is the same for buffers and strings\n    ret = list.head.data.slice(0, n);\n    list.head.data = list.head.data.slice(n);\n  } else if (n === list.head.data.length) {\n    // first chunk is a perfect match\n    ret = list.shift();\n  } else {\n    // result spans more than one buffer\n    ret = hasStrings ? copyFromBufferString(n, list) : copyFromBuffer(n, list);\n  }\n  return ret;\n}\n\n// Copies a specified amount of characters from the list of buffered data\n// chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBufferString(n, list) {\n  var p = list.head;\n  var c = 1;\n  var ret = p.data;\n  n -= ret.length;\n  while (p = p.next) {\n    var str = p.data;\n    var nb = n > str.length ? str.length : n;\n    if (nb === str.length) ret += str;else ret += str.slice(0, n);\n    n -= nb;\n    if (n === 0) {\n      if (nb === str.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = str.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\n// Copies a specified amount of bytes from the list of buffered data chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBuffer(n, list) {\n  var ret = Buffer.allocUnsafe(n);\n  var p = list.head;\n  var c = 1;\n  p.data.copy(ret);\n  n -= p.data.length;\n  while (p = p.next) {\n    var buf = p.data;\n    var nb = n > buf.length ? buf.length : n;\n    buf.copy(ret, ret.length - n, 0, nb);\n    n -= nb;\n    if (n === 0) {\n      if (nb === buf.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = buf.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0) throw new Error('\"endReadable()\" called on non-empty stream');\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    pna.nextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  // Check that we didn't get one last unshift.\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n  }\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}","module.exports = require('events').EventEmitter;\n","'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\n// undocumented cb() API, needed for core, not for public API\nfunction destroy(err, cb) {\n  var _this = this;\n\n  var readableDestroyed = this._readableState && this._readableState.destroyed;\n  var writableDestroyed = this._writableState && this._writableState.destroyed;\n\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err && (!this._writableState || !this._writableState.errorEmitted)) {\n      pna.nextTick(emitErrorNT, this, err);\n    }\n    return this;\n  }\n\n  // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  }\n\n  // if this is a duplex stream mark the writable part as destroyed as well\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n\n  this._destroy(err || null, function (err) {\n    if (!cb && err) {\n      pna.nextTick(emitErrorNT, _this, err);\n      if (_this._writableState) {\n        _this._writableState.errorEmitted = true;\n      }\n    } else if (cb) {\n      cb(err);\n    }\n  });\n\n  return this;\n}\n\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\n\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\n\nmodule.exports = {\n  destroy: destroy,\n  undestroy: undestroy\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n'use strict';\n\n/*<replacement>*/\n\nvar pna = require('process-nextick-args');\n/*</replacement>*/\n\nmodule.exports = Writable;\n\n/* <replacement> */\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n}\n\n// It seems a linked list but it is not\n// there will be only 2 of these for each stream\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\nvar asyncWrite = !process.browser && ['v0.10', 'v0.9.'].indexOf(process.version.slice(0, 5)) > -1 ? setImmediate : pna.nextTick;\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = global.Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*</replacement>*/\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nutil.inherits(Writable, Stream);\n\nfunction nop() {}\n\nfunction WritableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  var isDuplex = stream instanceof Duplex;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  var writableHwm = options.writableHighWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n\n  if (hwm || hwm === 0) this.highWaterMark = hwm;else if (isDuplex && (writableHwm || writableHwm === 0)) this.highWaterMark = writableHwm;else this.highWaterMark = defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // if _final has been called\n  this.finalCalled = false;\n\n  // drain event flag.\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null;\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n\n  // count buffered requests\n  this.bufferedRequestCount = 0;\n\n  // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n  return out;\n};\n\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function () {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})();\n\n// Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\nvar realHasInstance;\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function (object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function (object) {\n    return object instanceof this;\n  };\n}\n\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  if (!realHasInstance.call(Writable, this) && !(this instanceof Duplex)) {\n    return new Writable(options);\n  }\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n\n    if (typeof options.writev === 'function') this._writev = options.writev;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  this.emit('error', new Error('Cannot pipe, not readable'));\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  pna.nextTick(cb, er);\n}\n\n// Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  var er = false;\n\n  if (chunk === null) {\n    er = new TypeError('May not write null values to stream');\n  } else if (typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  if (er) {\n    stream.emit('error', er);\n    pna.nextTick(cb, er);\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n\n  if (typeof cb !== 'function') cb = nop;\n\n  if (state.ended) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  var state = this._writableState;\n\n  state.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n\n    if (!state.writing && !state.corked && !state.finished && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new TypeError('Unknown encoding: ' + encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n  return chunk;\n}\n\nObject.defineProperty(Writable.prototype, 'writableHighWaterMark', {\n  // making it explicit this property is not enumerable\n  // because otherwise some prototype manipulation in\n  // userland will fail\n  enumerable: false,\n  get: function () {\n    return this._writableState.highWaterMark;\n  }\n});\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    pna.nextTick(cb, er);\n    // this can emit finish, and it will always happen\n    // after error\n    pna.nextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n    // this can emit finish, but finish must\n    // always follow error\n    finishMaybe(stream, state);\n  }\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state);\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      /*<replacement>*/\n      asyncWrite(afterWrite, stream, state, finished, cb);\n      /*</replacement>*/\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n\n    var count = 0;\n    var allBuffers = true;\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n    buffer.allBuffers = allBuffers;\n\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish);\n\n    // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--;\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new Error('_write() is not implemented'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished) endWritable(this, state, cb);\n};\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n    if (err) {\n      stream.emit('error', err);\n    }\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function') {\n      state.pendingcb++;\n      state.finalCalled = true;\n      pna.nextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n  if (need) {\n    prefinish(stream, state);\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n    }\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished) pna.nextTick(cb);else stream.once('finish', cb);\n  }\n  state.ended = true;\n  stream.writable = false;\n}\n\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  }\n  if (state.corkedRequestsFree) {\n    state.corkedRequestsFree.next = corkReq;\n  } else {\n    state.corkedRequestsFree = corkReq;\n  }\n}\n\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  get: function () {\n    if (this._writableState === undefined) {\n      return false;\n    }\n    return this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._writableState.destroyed = value;\n  }\n});\n\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\nWritable.prototype._destroy = function (err, cb) {\n  this.end();\n  cb(err);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\n'use strict';\n\nmodule.exports = Transform;\n\nvar Duplex = require('./_stream_duplex');\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(Transform, Duplex);\n\nfunction afterTransform(er, data) {\n  var ts = this._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb) {\n    return this.emit('error', new Error('write callback called multiple times'));\n  }\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (data != null) // single equals check for both `null` and `undefined`\n    this.push(data);\n\n  cb(er);\n\n  var rs = this._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    this._read(rs.highWaterMark);\n  }\n}\n\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n\n  Duplex.call(this, options);\n\n  this._transformState = {\n    afterTransform: afterTransform.bind(this),\n    needTransform: false,\n    transforming: false,\n    writecb: null,\n    writechunk: null,\n    writeencoding: null\n  };\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  }\n\n  // When the writable side finishes, then flush out anything remaining.\n  this.on('prefinish', prefinish);\n}\n\nfunction prefinish() {\n  var _this = this;\n\n  if (typeof this._flush === 'function') {\n    this._flush(function (er, data) {\n      done(_this, er, data);\n    });\n  } else {\n    done(this, null, null);\n  }\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  throw new Error('_transform() is not implemented');\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nTransform.prototype._destroy = function (err, cb) {\n  var _this2 = this;\n\n  Duplex.prototype._destroy.call(this, err, function (err2) {\n    cb(err2);\n    _this2.emit('close');\n  });\n};\n\nfunction done(stream, er, data) {\n  if (er) return stream.emit('error', er);\n\n  if (data != null) // single equals check for both `null` and `undefined`\n    stream.push(data);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  if (stream._writableState.length) throw new Error('Calling transform done when ws.length != 0');\n\n  if (stream._transformState.transforming) throw new Error('Calling transform done when still transforming');\n\n  return stream.push(null);\n}",null,null,null,null,null,null,null,null,null,null,null,null,"var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose.js\");\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","export * from './asStream';\nexport * from './ComposedStore';\nexport * from './MergedStore';\nexport * from './ObservableStore';\nexport * from './transform';\n","import { Duplex as DuplexStream } from 'stream';\n\nimport { ObservableStore } from './ObservableStore';\n\nclass ObservableStoreStream<T> extends DuplexStream {\n  handler: (state: T) => void;\n\n  obsStore: ObservableStore<T>;\n\n  constructor(obsStore: ObservableStore<T>) {\n    super({\n      // pass values, not serializations\n      objectMode: true,\n    });\n    // dont buffer outgoing updates\n    this.resume();\n    // save handler so we can unsubscribe later\n    this.handler = (state: T) => this.push(state);\n    // subscribe to obsStore changes\n    this.obsStore = obsStore;\n    this.obsStore.subscribe(this.handler);\n  }\n\n  // emit current state on new destination\n  pipe<U extends NodeJS.WritableStream>(\n    dest: U,\n    options?: { end?: boolean },\n  ): U {\n    const result = super.pipe(dest, options);\n    dest.write(this.obsStore.getState() as any);\n    return result;\n  }\n\n  // write from incoming stream to state\n  _write(\n    chunk: any,\n    _encoding: string,\n    callback: (error?: Error | null) => void,\n  ): void {\n    this.obsStore.putState(chunk);\n    callback();\n  }\n\n  // noop - outgoing stream is asking us if we have data we arent giving it\n  _read(_size: number): void {\n    return undefined;\n  }\n\n  // unsubscribe from event emitter\n  _destroy(err: Error | null, callback: (error: Error | null) => void): void {\n    this.obsStore.unsubscribe(this.handler);\n    super._destroy(err, callback);\n  }\n}\n\nexport function storeAsStream<T>(\n  obsStore: ObservableStore<T>,\n): ObservableStoreStream<T> {\n  return new ObservableStoreStream(obsStore);\n}\n","import { ObservableStore } from './ObservableStore';\n\nexport class ComposedStore<\n  T extends Record<string, Record<string, unknown>>,\n> extends ObservableStore<T> {\n  private _children: Record<keyof T, ObservableStore<T[keyof T]>>;\n\n  constructor(children: Record<keyof T, ObservableStore<T[keyof T]>>) {\n    // Typecast: Preserve existing behavior\n    super({} as unknown as T);\n\n    // subscribe to children\n    this._children = children || {};\n    Object.keys(this._children).forEach((childKey) => {\n      const child = this._children[childKey];\n      this._addChild(childKey, child);\n    });\n  }\n\n  _addChild(childKey: keyof T, child: ObservableStore<T[keyof T]>) {\n    const updateFromChild = (childValue: T[keyof T]) => {\n      const state = this.getState();\n      state[childKey] = childValue;\n      this.putState(state);\n    };\n\n    child.subscribe(updateFromChild);\n    updateFromChild(child.getState());\n  }\n}\n","import { ObservableStore } from './ObservableStore';\n\nexport class MergedStore<\n  T extends Record<string, unknown>,\n> extends ObservableStore<T> {\n  private _children: ObservableStore<Partial<T>>[];\n\n  constructor(children = []) {\n    // Typecast: Preserve existing behavior\n    super({} as unknown as T);\n\n    this._children = children;\n    // subscribe to children\n    children.forEach((child) => this._addChild(child));\n    this._updateWholeState();\n  }\n\n  _addChild(child: ObservableStore<Partial<T>>): void {\n    child.subscribe(() => this._updateWholeState());\n  }\n\n  _updateWholeState(): void {\n    const childStates = this._children.map((child) => child.getState());\n    // apply shallow merge over states\n    const state = Object.assign({}, ...childStates);\n    this.putState(state);\n  }\n}\n","import { obj as TransformStream } from 'through2';\n\nexport function storeTransformStream<T, U>(syncTransformFn: (state: T) => U) {\n  return TransformStream((state, _encoding, cb) => {\n    try {\n      const newState = syncTransformFn(state);\n      cb(null, newState);\n      return undefined;\n    } catch (err) {\n      cb(err);\n      return undefined;\n    }\n  });\n}\n","var Transform = require('readable-stream').Transform\n  , inherits  = require('util').inherits\n  , xtend     = require('xtend')\n\nfunction DestroyableTransform(opts) {\n  Transform.call(this, opts)\n  this._destroyed = false\n}\n\ninherits(DestroyableTransform, Transform)\n\nDestroyableTransform.prototype.destroy = function(err) {\n  if (this._destroyed) return\n  this._destroyed = true\n  \n  var self = this\n  process.nextTick(function() {\n    if (err)\n      self.emit('error', err)\n    self.emit('close')\n  })\n}\n\n// a noop _transform function\nfunction noop (chunk, enc, callback) {\n  callback(null, chunk)\n}\n\n\n// create a new export function, used by both the main export and\n// the .ctor export, contains common logic for dealing with arguments\nfunction through2 (construct) {\n  return function (options, transform, flush) {\n    if (typeof options == 'function') {\n      flush     = transform\n      transform = options\n      options   = {}\n    }\n\n    if (typeof transform != 'function')\n      transform = noop\n\n    if (typeof flush != 'function')\n      flush = null\n\n    return construct(options, transform, flush)\n  }\n}\n\n\n// main export, just make me a transform stream!\nmodule.exports = through2(function (options, transform, flush) {\n  var t2 = new DestroyableTransform(options)\n\n  t2._transform = transform\n\n  if (flush)\n    t2._flush = flush\n\n  return t2\n})\n\n\n// make me a reusable prototype that I can `new`, or implicitly `new`\n// with a constructor call\nmodule.exports.ctor = through2(function (options, transform, flush) {\n  function Through2 (override) {\n    if (!(this instanceof Through2))\n      return new Through2(override)\n\n    this.options = xtend(options, override)\n\n    DestroyableTransform.call(this, this.options)\n  }\n\n  inherits(Through2, DestroyableTransform)\n\n  Through2.prototype._transform = transform\n\n  if (flush)\n    Through2.prototype._flush = flush\n\n  return Through2\n})\n\n\nmodule.exports.obj = through2(function (options, transform, flush) {\n  var t2 = new DestroyableTransform(xtend({ objectMode: true, highWaterMark: 16 }, options))\n\n  t2._transform = transform\n\n  if (flush)\n    t2._flush = flush\n\n  return t2\n})\n","exports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = exports;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Buffer = require('safe-buffer').Buffer;\nvar util = require('util');\n\nfunction copyBuffer(src, target, offset) {\n  src.copy(target, offset);\n}\n\nmodule.exports = function () {\n  function BufferList() {\n    _classCallCheck(this, BufferList);\n\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  BufferList.prototype.push = function push(v) {\n    var entry = { data: v, next: null };\n    if (this.length > 0) this.tail.next = entry;else this.head = entry;\n    this.tail = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.unshift = function unshift(v) {\n    var entry = { data: v, next: this.head };\n    if (this.length === 0) this.tail = entry;\n    this.head = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.shift = function shift() {\n    if (this.length === 0) return;\n    var ret = this.head.data;\n    if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n    --this.length;\n    return ret;\n  };\n\n  BufferList.prototype.clear = function clear() {\n    this.head = this.tail = null;\n    this.length = 0;\n  };\n\n  BufferList.prototype.join = function join(s) {\n    if (this.length === 0) return '';\n    var p = this.head;\n    var ret = '' + p.data;\n    while (p = p.next) {\n      ret += s + p.data;\n    }return ret;\n  };\n\n  BufferList.prototype.concat = function concat(n) {\n    if (this.length === 0) return Buffer.alloc(0);\n    if (this.length === 1) return this.head.data;\n    var ret = Buffer.allocUnsafe(n >>> 0);\n    var p = this.head;\n    var i = 0;\n    while (p) {\n      copyBuffer(p.data, ret, i);\n      i += p.data.length;\n      p = p.next;\n    }\n    return ret;\n  };\n\n  return BufferList;\n}();\n\nif (util && util.inspect && util.inspect.custom) {\n  module.exports.prototype[util.inspect.custom] = function () {\n    var obj = util.inspect({ length: this.length });\n    return this.constructor.name + ' ' + obj;\n  };\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\n'use strict';\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\n/*<replacement>*/\nvar util = Object.create(require('core-util-is'));\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};",null],"sourceRoot":""}